<div class="clipboard"
     (click)="newNote($event)"
     (drop)="dropFile($event)" customDragDrop
     (contextmenu)="onRightClick($event)">
  <button mat-fab color="primary" matTooltip="Save notes.json to downloads" matTooltipPosition="left"
          (click)="save(); $event.stopPropagation()"
          [disabled]="!dataService.itemsCount">
    <mat-icon [matBadge]="dataService.selectedItemsCount ? dataService.selectedItemsCount : ''"
              matBadgeColor="accent" matBadgeOverlap="false" matBadgeSize="large">
      save
    </mat-icon>
  </button>
  <ng-container *ngFor="let note of dataService.notes$ | async">
    <note cdkDrag class="draggable-note"
          (cdkDragEnded)="saveItemPosition($event, note)"
          [style.top.px]="note.posY"
          [style.left.px]="note.posX"
          [note]="note"></note>
  </ng-container>
  <ng-container *ngFor="let image of dataService.images$ | async">
    <image cdkDrag class="draggable-note"
           (cdkDragEnded)="saveItemPosition($event, image)"
           [style.top.px]="image.posY"
           [style.left.px]="image.posX"
           [image]="image"></image>
  </ng-container>
  <div cdkDropListGroup>
    <ng-container *ngFor="let taskList of dataService.taskLists$ | async">
      <task-list cdkDrag class="draggable-note"
                 (cdkDragEnded)="saveItemPosition($event, taskList)"
                 [style.top.px]="taskList.posY"
                 [style.left.px]="taskList.posX"
                 [taskList]="taskList"></task-list>
    </ng-container>
  </div>
</div>

<div style="visibility: hidden; position: fixed"
     [style.left.px]="rightClickPosX"
     [style.top.px]="rightClickPosY"
     [matMenuTriggerFor]="contextMenu">
</div>
<mat-menu #contextMenu="matMenu">
  <button mat-menu-item (click)="openNewNoteDialog()">
    <mat-icon>note</mat-icon>
    Create note
  </button>
  <button mat-menu-item (click)="openNewTaskListDialog()">
    <mat-icon>list</mat-icon>
    Create task list
  </button>
</mat-menu>

<a target="_blank" class="startup-logo" (click)="showAboutDialog()">
  <span style="margin-right: 12px">Clip</span>
  <img src="favicon.ico" height="120" alt="#" style="transform: translateY(-4px)">
  <span style="margin-left: 12px">board</span>
</a>

<img alt="hashy" [class.show-hashy-bg]="hashy.showHashy | async"
     class="hashy hashy-bg" src="assets/hashy-bg.svg" height="124">
<img alt="hashy" [class.show-hashy]="hashy.showHashy | async"
     class="hashy" src="assets/hashy-fg.svg" height="154">
